<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Lab 4 - Forms Processing</title>
    <script>
        "use strict";
        function $(id){
            return document.getElementById(id);
        }
        window.onload=function(){
            $("mstatus").onchange=mstatusChange;
            $("submitButton").onclick=processForm;
            $("fname").focus();
        }
        function mstatusChange(){
            var mstatus = $("mstatus").value;

            if(mstatus=="married"){
                $("sname").disabled=false;
            }else{
                $("sname").disabled=true;
            }
        }
        function processForm(){
            var fname = $("fname").value;
            var lname = $("lname").value;
            var address1 = $("address1").value;
            var address2 = $("address2").value;
            var city = $("city").value;
            var state = $("state").value;
            var zipcode = $("zipcode").value;
            var gender = "";
            if($("genderMale").checked)gender=$("genderMale").value;
            if($("genderFemale").checked)gender=$("genderFemale").value;
            var dob = $("dob").value;
            var mstatus = $("mstatus").value;
            var sname = $("sname").value;
            var email = $("email").value;
            var phone = $("phone").value;
            var password = $("password").value;
            var password2 = $("password2").value;

            var formGood=true;

            if(fname==""){
                formGood=false;
                $("fnameLabel").className="redtext";
            }else{
                $("fnameLabel").className="blacktext";
            }

            if(lname==""){
                formGood=false;
                $("lnameLabel").className="redtext";
            }else{
                $("lnameLabel").className="blacktext";
            }

            if(address1==""){
                formGood=false;
                $("address1Label").className="redtext";
            }else{
                $("address1Label").className="blacktext";
            }

            // Should address2 be required?
            if(address2==""){
                formGood=false;
                $("address2Label").className="redtext";
            }else{
                $("address2Label").className="blacktext";
            }
            
            if(city==""){
                formGood=false;
                $("cityLabel").className="redtext";
            }else{
                $("cityLabel").className="blacktext";
            }
            
            if(state==""){
                formGood=false;
                $("stateLabel").className="redtext";
            }else{
                $("stateLabel").className="blacktext";
            }
            
            if(zipcode==""){
                formGood=false;
                $("zipcodeLabel").className="redtext";
            }else{
                $("zipcodeLabel").className="blacktext";
            }
            
            if(gender==""){
                formGood=false;
                $("genderLabel").className="redtext";
            }else{
                $("genderLabel").className="blacktext";
            }

            if(dob==""){
                formGood=false;
                $("dobLabel").className="redtext";
            }else{
                $("dobLabel").className="blacktext";
            }
            
            if(mstatus==""){
                formGood=false;
                $("mstatusLabel").className="redtext";
            }else{
                $("mstatusLabel").className="blacktext";
            }
            
            // Should sname be required if "single"?
            if(sname==""){
                formGood=false;
                $("snameLabel").className="redtext";
            }else{
                $("snameLabel").className="blacktext";
            }
            
            if(email==""){
                formGood=false;
                $("emailLabel").className="redtext";
            }else{
                $("emailLabel").className="blacktext";
            }
            
            if(phone==""){
                formGood=false;
                $("phoneLabel").className="redtext";
            }else{
                $("phoneLabel").className="blacktext";
            }
            
            if(password=="" || password2=="" || password!=password2){
                formGood=false;
                $("passwordLabel").className="redtext";
                $("password2Label").className="redtext";
            }else{
                $("passwordLabel").className="blacktext";
                $("password2Label").className="blacktext";
            }
            
            if(formGood){
                $("errorMsg").innerHTML="&nbsp;";
                $("myForm").submit();
            }else{
                $("errorMsg").innerHTML="Please fix the errors below:";
            }
        }
    </script>
    <style>
        .blacktext{color:black;}
        .redtext{color:red;}
    </style>
</head>
<body>
    <h2>Kevin Karosy - IT 2320 - Lab 4</h2>
    <h2>Lab 4 - Forms Processing</h2>
    <h2 id="errorMsg" class="redtext">&nbsp;</h2>
    
    <form id="myForm" action="http://www.waynedog.net/formreader.php" method="post">
    <table>
        <tr>
            <td><label id="fnameLabel">First Name</label></td>
            <td><input id="fname" name="fname" type="text"></td>
            
            <td><label id="lnameLabel">Last Name</label></td>
            <td><input id="lname" name="lname" type="text"></td>
        </tr>
        <tr>
            <td><label id="address1Label">Address</label></td>
            <td><input id="address1" name="address1" type="text"></td>
            
            <td><label id="address2Label">Suite or Apt.</label></td>
            <td><input id="address2" name="address2" type="text"></td>
        </tr>
        <tr>
            <td><label id="cityLabel">City</label></td>
            <td><input id="city" name="city" type="text"></td>
            
            <td><label id="stateLabel">State</label></td>
            <td>
                <select id="state" name="state">
                    <option value="">Select a state</option>
                    <option value="AL">Alabama</option>
                    <option value="AK">Alaska</option>
                    <option value="AZ">Arizona</option>
                    <option value="AR">Arkansas</option>
                    <option value="CA">California</option>
                    <option value="CO">Colorado</option>
                    <option value="CT">Connecticut</option>
                    <option value="DE">Delaware</option>
                    <option value="DC">Dist of Columbia</option>
                    <option value="FL">Florida</option>
                    <option value="GA">Georgia</option>
                    <option value="HI">Hawaii</option>
                    <option value="ID">Idaho</option>
                    <option value="IL">Illinois</option>
                    <option value="IN">Indiana</option>
                    <option value="IA">Iowa</option>
                    <option value="KS">Kansas</option>
                    <option value="KY">Kentucky</option>
                    <option value="LA">Louisiana</option>
                    <option value="ME">Maine</option>
                    <option value="MD">Maryland</option>
                    <option value="MA">Massachusetts</option>
                    <option value="MI">Michigan</option>
                    <option value="MN">Minnesota</option>
                    <option value="MS">Mississippi</option>
                    <option value="MO">Missouri</option>
                    <option value="MT">Montana</option>
                    <option value="NE">Nebraska</option>
                    <option value="NV">Nevada</option>
                    <option value="NH">New Hampshire</option>
                    <option value="NJ">New Jersey</option>
                    <option value="NM">New Mexico</option>
                    <option value="NY">New York</option>
                    <option value="NC">North Carolina</option>
                    <option value="ND">North Dakota</option>
                    <option value="OH">Ohio</option>
                    <option value="OK">Oklahoma</option>
                    <option value="OR">Oregon</option>
                    <option value="PA">Pennsylvania</option>
                    <option value="RI">Rhode Island</option>
                    <option value="SC">South Carolina</option>
                    <option value="SD">South Dakota</option>
                    <option value="TN">Tennessee</option>
                    <option value="TX">Texas</option>
                    <option value="UT">Utah</option>
                    <option value="VT">Vermont</option>
                    <option value="VA">Virginia</option>
                    <option value="WA">Washington</option>
                    <option value="WV">West Virginia</option>
                    <option value="WI">Wisconsin</option>
                    <option value="WY">Wyoming</option>
                </select>
            </td>
        </tr>
        <tr>
            <td><label id="zipcodeLabel">ZIP Code</label></td>
            <td><input id="zipcode" name="zipcode" type="text"></td>

            <td>&nbsp;</td>
            <td>&nbsp;</td>
        </tr>
        <tr>
            <td><label id="genderLabel">Gender</label></td>
            <td>
                <input id="genderMale" name="gender" type="radio" value="male">Male
                <input id="genderFemale" name="gender" type="radio" value="female">Female
            </td>

            <td><label id="dobLabel">Birthdate</label></td>
            <td><input id="dob" name="dob" type="date"></td>
        </tr>
        <tr>
            <td><label id="mstatusLabel">Marital Status</label></td>
            <td>
                <select id="mstatus" name="mstatus">
                    <option value="">Choose one</option>
                    <option value="single">Single</option>
                    <option value="married">Married</option>
                </select>
            </td>
            
            <td><label id="snameLabel">Spouse Name</label></td>
            <td><input id="sname" name="sname" type="text"></td>
        </tr>
        <tr>
            <td><label id="emailLabel">Email</label></td>
            <td><input id="email" name="email" type="email"></td>
            
            <td><label id="phoneLabel">Phone</label></td>
            <td><input id="phone" name="phone" type="text"></td>
        </tr>
        <tr>
            <td><label id="passwordLabel">Password</label></td>
            <td><input id="password" name="password" type="password"></td>
            
            <td><label id="password2Label">Confirm Password</label></td>
            <td><input id="password2" name="password2" type="password"></td>
        </tr>
        <tr>
            <td><input id="resetButton" type="reset" value="RESET"></td>
            <td><input id="submitButton" type="button" value="SUBMIT"></td>

            <td>&nbsp;</td>
            <td>&nbsp;</td>
        </tr>
    </table>
    </form>
</body>
</html>